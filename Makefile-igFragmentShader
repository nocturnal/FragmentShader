TARGET  = ../bin-dist-win32/igFragmentShader
WX_TOP  = /x/tech/Users/macton/wxWidgets
LUA_TOP = /x/tech/Users/macton/lua-5.1.2


C_SOURCES   = expr.c
CPP_SOURCES = wxbitmapdc.cpp wxcanvas.cpp wxpopupmenu.cpp graphviz.cpp luavalid.cpp luabind.cpp graph.cpp propedit.cpp shader.cpp xdot.cpp
OBJECTS     = $(C_SOURCES:.c=.o) $(CPP_SOURCES:.cpp=.o)
CPP_FLAGS   = -g -O3 -DWXUSINGDLL -D__WXMSW__ -I$(WX_TOP)/lib/wx/include/msw-ansi-release-2.8 -I$(WX_TOP)/include -I$(LUA_TOP)/src
C_FLAGS     = -g -O3 -DWXUSINGDLL -D__WXMSW__ -I$(WX_TOP)/lib/wx/include/msw-ansi-release-2.8 -I$(WX_TOP)/include -I$(LUA_TOP)/src
LN_FLAGS    = -L$(WX_TOP)/lib -mwindows -lmingw32 -lwx_msw_propgrid-2.8 -lrpcrt4 -loleaut32 -lole32 -luuid -lwinspool -lwinmm -lshell32 -lcomctl32 -lcomdlg32 -lctl3d32 -ladvapi32 -lwsock32 -lgdi32 -lwx_msw_core-2.8  -lwx_base-2.8   -lwxtiff-2.8 -lwxjpeg-2.8 -lwxpng-2.8  -lwxzlib-2.8  -lwxregex-2.8 -lwxexpat-2.8 -lrpcrt4 -loleaut32 -lole32 -luuid -lwinspool -lwinmm -lshell32 -lcomctl32 -lcomdlg32 -lctl3d32 -ladvapi32 -lwsock32 -lgdi32  -L$(LUA_TOP)/src -llua


CC          = gcc
LN          = g++

$(TARGET): $(OBJECTS)
	p4 edit $(TARGET)
	$(LN) $(OBJECTS) -o $(TARGET) $(LN_FLAGS)

.cpp.o :
	$(CC) $(CPP_FLAGS) -c $< -o $@

.c.o :
	$(CC) $(C_FLAGS) -c $< -o $@

depend:
	makedepend -- $(FLAGS) -- $(SRCS)


